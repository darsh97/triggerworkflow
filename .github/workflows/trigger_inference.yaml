name: trigger workflow

on:
  workflow_dispatch:

jobs:
  triggerinferencejob:
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2
      
  job2:
    if: always()
    needs: triggerinferencejob
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2

    - name: training_job2
      run: exit 1
      continue-on-error: true

    - name: somestep
      run: echo ${{ job.status }} > job2_status.txt
      
  job3:
    if: always()
    needs: job2
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2

    - name: training_job3
      run: echo completed training job 3
      continue-on-error: true

    - name: somestep
      run: echo ${{ job.status }} > job3_status.txt
