name: trigger inference

on:
  workflow_dispatch:

jobs:
  triggerinferencejob:
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2
      
  job2:
    if: always()
    needs: triggerinferencejob
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2
    - name: somestep
      run: echo "hello from job2"
      
  job3:
    if: always()
    needs: job2
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2
    - name: somestep
      run: echo "hello from job3"

  jobhealth:
    if: always()
    needs: [triggerinferencejob, job3, job2]
    runs-on: ubuntu-latest
    steps:
    - name: PR checkout
      uses: actions/checkout@v2
    - name: somestep
      run: |
          echo triggerinferencejob: ${{ triggerinferencejob.status }}
          echo job2: ${{ job2.status }}
          echo job3: ${{ job3.status }}

          
